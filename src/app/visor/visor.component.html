<ng-container>
    <div id="visor-navigation">
        <app-visor-selector
                [componentes]="componentes"
                [idMuseo]="idMuseo"
                (componenteUpdate)="getComponente($event)"
                (componenteShow)="showComponent($event)"></app-visor-selector>
        <app-visor-menu></app-visor-menu>
        <nav class="buttons navbar p-3">
            <button type="button" class="btn circle btn-dark float-left mr-3" (click)="collapse.toggle()" [attr.aria-expanded]="!isCollapsed"
                    aria-controls="collapseExample">
                <span class="mdi mdi-information"></span>
            </button>
        </nav>
        <nav class="buttons navbar p-3">
            <button class="btn circle btn-dark float-left mr-3">
                <span class="mdi mdi-play-pause"></span>
            </button>
        </nav>
    </div>
    <ng-container class="component-display" *ngIf="isModel">
        <a-scene embedded style="z-index: -1" embedded arjs>
            <a-marker id="marker" preset='hiro'>
                <a-entity
                id="objeto"
                position="0 0 0"
                scale="0.5 0.5 0.5"
                gltf-model=""
                foo
                ></a-entity>
              </a-marker>
              <a-entity camera></a-entity>
        </a-scene>
    </ng-container>
    <ng-container class="component-display" *ngIf="isVideo">
        <a-scene embedded style="z-index: -1" embedded
        artoolkit='sourceType: webcam; detectionMode: mono; maxDetectionRate: 30; canvasWidth:240; canvasHeight:180'>
            <a-assets>
                <video id="vid" src="" autoplay="true" loop="true"></video>
            </a-assets>
            <a-marker preset="hiro" vidhandler>
                <a-plane id="planeVid" position='1 2 0' scale="2 2 2" width="2" rotation="-90 0 0" 
                material='transparent:true; opacity: 0.7; src:#vid'></a-plane>
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
    </ng-container>
    <ng-container class="component-display" *ngIf="isImage">
        <a-scene embedded arjs>
            <a-assets>
                <img id="transpImage" src="">
            </a-assets>
            <a-marker preset='hiro'>
                <a-image width="1" height="1" src="#transpImage" rotation="-90 0 0" ></a-image>
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
    </ng-container>
    <footer id="visor-footer">
        <ngb-alert *ngIf="errorMsg" #selfClosingAlert class="msg-error p-2 col-10 mx-auto" type="custom" [dismissible]="true">{{errorMsg}}</ngb-alert>
        <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
            <div class="visor-footer-before row py-2 px-3">
                <div class="row col my-auto">
                    <p class="font-sm m-0">
                        Acciones disponibles:
                        <span class="mdi mdi-resize px-1"></span>
                        <span class="mdi mdi-cursor-move px-1"></span>
                        <span class="mdi mdi-rotate-3d px-1"></span>
                        <span class="mdi mdi-information px-1"></span>
                        <span class="mdi mdi-play-pause px-1"></span>
                    </p>
                </div>
                <button class="btn btn-trans col-1 text-center text-white"
                        (click)="collapse.toggle()">
                    <span class="mdi mdi-lg mdi-close-thick"></span>
                </button>
                <p>Coloca el siguiente marcador frente a la c√°mara para comenzar.</p>
            </div>
            <div class="visor-footer-after">
                <div>
                    <p> Acciones disponibles:
                        <span class="mdi mdi-resize px-1"></span>
                        <span class="mdi mdi-cursor-move px-1"></span>
                        <span class="mdi mdi-rotate-3d px-1"></span>
                    </p>
                </div>
                <div id="component-info">
                    <p *ngIf="componentDescription">{{componentDescription}}</p>
                </div>
            </div>
        </div>
    </footer>
</ng-container>
<router-outlet></router-outlet>
